"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("classnames"),t=require("react"),a=require("moment");function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(a){if("default"!==a){var l=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:function(){return e[a]}})}})),t.default=e,Object.freeze(t)}var n=l(e),d=l(t),c=l(a);function m(){return d.default.createElement("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 492.002 492.002",xml:"preserve"},d.default.createElement("g",null,d.default.createElement("g",null,d.default.createElement("path",{d:"M484.136,328.473L264.988,109.329c-5.064-5.064-11.816-7.844-19.172-7.844c-7.208,0-13.964,2.78-19.02,7.844\r L7.852,328.265C2.788,333.333,0,340.089,0,347.297c0,7.208,2.784,13.968,7.852,19.032l16.124,16.124\r c5.064,5.064,11.824,7.86,19.032,7.86s13.964-2.796,19.032-7.86l183.852-183.852l184.056,184.064\r c5.064,5.06,11.82,7.852,19.032,7.852c7.208,0,13.96-2.792,19.028-7.852l16.128-16.132\r C494.624,356.041,494.624,338.965,484.136,328.473z"}))),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null))}function i(){return d.default.createElement("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 256 256",xml:"preserve"},d.default.createElement("g",null,d.default.createElement("g",null,d.default.createElement("polygon",{points:"225.813,48.907 128,146.72 30.187,48.907 0,79.093 128,207.093 256,79.093 \t\t"}))),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null))}!function(e,t){void 0===t&&(t={});var a=t.insertAt;if(e&&"undefined"!=typeof document){var l=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===a&&l.firstChild?l.insertBefore(r,l.firstChild):l.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}('.calendar{min-width:60vh;min-height:60vh;background:#ddd;display:grid;grid-template-columns:2fr 5fr;grid-template-rows:50px auto;grid-template-areas:"YY YY" "MM DD";user-select:none;font-family:sans-serif}.calendar.with_presets:not(.with_time){min-height:60vh;grid-template-columns:2fr 5fr;grid-template-rows:50px auto 50px;grid-template-areas:"YY YY" "MM DD" "PRESETS PRESETS"}.calendar.with_time:not(.with_presets){min-width:75vh;grid-template-columns:2fr 5fr 2fr;grid-template-rows:50px auto;grid-template-areas:"YY YY YY" "MM DD TIME";column-gap:2px}.calendar.with_presets,.calendar.with_time{grid-template-columns:2fr 5fr 2fr;grid-template-rows:50px auto 50px;grid-template-areas:"YY YY YY" "MM DD TIME" "PRESETS PRESETS PRESETS"}.calendar-presets{grid-area:PRESETS;display:flex;width:100%}.calendar-presets-preset{text-align:center;font-size:13px;width:20%;background:#9c9999;border-right:1px solid #fff;padding:3px}.calendar-presets-preset:last-child{border:none}.calendar-time{grid-area:TIME;display:flex;padding-left:1px}.calendar-time-half{width:50%;display:grid;grid-template-columns:1fr;grid-template-rows:repeat(7,1fr);background:#eeebe7}.calendar-time-half-cell:first-child,.calendar-time-half-cell:last-child{background:#ddd}.calendar-time-half-cell:nth-child(4){position:relative}.calendar-time-half-cell svg{max-width:25%}.calendar-years{grid-area:YY;display:flex;justify-content:space-between}.calendar-years-current{width:60%;height:100%;text-align:center;font-weight:700;font-size:20px}.calendar-years-arrow{width:50px;height:100%}.calendar-years-arrow svg{max-height:55%}.calendar-months{grid-area:MM;display:grid;grid-template-columns:repeat(2,1fr);grid-template-rows:repeat(6,1fr)}.calendar-months-month{height:100%;font-size:14px;padding:1px 0}.calendar-days{grid-area:DD;background:#eeebe7;display:grid;grid-template-columns:repeat(7,1fr)}.calendar-time-half-cell:nth-child(4),.calendar_active{background:#b1aa48}.calendar-button:active,.calendar-button:hover,.calendar-days-day:active,.calendar-days-day:hover,.calendar-months-month:active,.calendar-months-month:hover,.calendar-presets-preset:active,.calendar-presets-preset:hover,.calendar-time-half-cell:active,.calendar-time-half-cell:hover,.calendar-years-arrow:active,.calendar-years-arrow:hover{background:#b1aa48;cursor:pointer}.calendar-days-day,.calendar-fcc,.calendar-months-month,.calendar-presets-preset,.calendar-time-half-cell,.calendar-years-arrow,.calendar-years-current{display:flex;align-items:center;justify-content:center}.dividerhour:after{content:":";position:absolute;top:50%;transform:translateY(-55%);right:0}');const u=({date:e,changeAction:t})=>d.default.createElement("div",{className:"calendar-years"},d.default.createElement("div",{tabIndex:"0",role:"button",className:"calendar-years-arrow",onClick:()=>{t(c.default(e).subtract(1,"Y"))}},d.default.createElement("svg",{id:"Layer","enable-background":"new 0 0 64 64",height:"512",viewBox:"0 0 64 64",width:"512",xmlns:"http://www.w3.org/2000/svg"},d.default.createElement("path",{d:"m54 30h-39.899l15.278-14.552c.8-.762.831-2.028.069-2.828-.761-.799-2.027-.831-2.828-.069l-17.448 16.62c-.755.756-1.172 1.76-1.172 2.829 0 1.068.417 2.073 1.207 2.862l17.414 16.586c.387.369.883.552 1.379.552.528 0 1.056-.208 1.449-.621.762-.8.731-2.065-.069-2.827l-15.342-14.552h39.962c1.104 0 2-.896 2-2s-.896-2-2-2z"}))),d.default.createElement("div",{className:"calendar-years-current"},c.default(e).format("YYYY")),d.default.createElement("div",{onClick:()=>{t(c.default(e).add(1,"Y"))},role:"button",tabIndex:"0",className:"calendar-years-arrow"},d.default.createElement("svg",{id:"Layer","enable-background":"new 0 0 64 64",height:"512",viewBox:"0 0 64 64",width:"512",xmlns:"http://www.w3.org/2000/svg"},d.default.createElement("path",{d:"m37.379 12.552c-.799-.761-2.066-.731-2.827.069-.762.8-.73 2.066.069 2.828l15.342 14.551h-39.963c-1.104 0-2 .896-2 2s.896 2 2 2h39.899l-15.278 14.552c-.8.762-.831 2.028-.069 2.828.393.412.92.62 1.448.62.496 0 .992-.183 1.379-.552l17.449-16.62c.756-.755 1.172-1.759 1.172-2.828s-.416-2.073-1.207-2.862z"})))),s=({date:e,changeAction:t})=>{let a=Array.from({length:12},((e,t)=>t));return d.default.createElement("div",{className:"calendar-months"},a.map((a=>d.default.createElement("div",{key:a,tabIndex:"0",role:"button",className:n.default("calendar-months-month",{calendar_active:a+1===+c.default(e).format("M")}),onClick:()=>{var l;(l=a)+1!=c.default(e).format("M")&&t(c.default(e).month(l))}},c.default().month(a).format("MMMM")))))},f=({date:e,changeAction:a})=>{const[l,r]=t.useState([]);return t.useEffect((()=>{let t=c.default(e).daysInMonth();r(Array.from({length:t},((e,t)=>t+1)))}),[e]),d.default.createElement("div",{className:"calendar-days"},l.map((t=>d.default.createElement("div",{key:t,onClick:()=>{var l;(l=t)!==c.default(e).date()&&a(c.default(e).set("date",l))},tabIndex:"0",role:"button",className:n.default("calendar-days-day",{calendar_active:c.default(e).date()===t})},t))))},o=({date:e,changeAction:a})=>{const[l,r]=t.useState(+c.default(e).format("HH")),[n,u]=t.useState(+c.default(e).format("mm")),s=(t,l)=>{a(c.default(e).add(t,l))},f=(t,l)=>{a(c.default(e).subtract(t,l))},o=({deltaY:t},l)=>{a(t<0?c.default(e).subtract(1,l):c.default(e).add(1,l))};return t.useEffect((()=>{r(c.default(e).format("HH")),u(c.default(e).format("mm"))}),[e]),t.useEffect((()=>(document.addEventListener("scroll",o),()=>{document.removeEventListener("scroll",o)})),[]),d.default.createElement("div",{className:"calendar-time"},d.default.createElement("div",{className:"calendar-time-half hours",onWheel:e=>o(e,"H")},d.default.createElement("div",{className:"calendar-time-half-cell",onClick:()=>f(1,"H")},m()),d.default.createElement("div",{onClick:()=>f(2,"H"),className:"calendar-time-half-cell"},c.default(e).subtract(2,"H").format("HH")),d.default.createElement("div",{onClick:()=>f(1,"H"),className:"calendar-time-half-cell"},c.default(e).subtract(1,"H").format("HH")),d.default.createElement("div",{className:"calendar-time-half-cell dividerhour"},l),d.default.createElement("div",{onClick:()=>s(1,"H"),className:"calendar-time-half-cell"},c.default(e).add(1,"H").format("HH")),d.default.createElement("div",{onClick:()=>s(2,"H"),className:"calendar-time-half-cell"},c.default(e).add(2,"H").format("HH")),d.default.createElement("div",{className:"calendar-time-half-cell",onClick:()=>s(1,"H")},i())),d.default.createElement("div",{className:"calendar-time-half",onWheel:e=>o(e,"m")},d.default.createElement("div",{className:"calendar-time-half-cell",onClick:()=>f(1,"m")},m()),d.default.createElement("div",{onClick:()=>f(2,"m"),className:"calendar-time-half-cell"},c.default(e).subtract(2,"m").format("mm")),d.default.createElement("div",{onClick:()=>f(1,"m"),className:"calendar-time-half-cell"},c.default(e).subtract(1,"m").format("mm")),d.default.createElement("div",{className:"calendar-time-half-cell"},n),d.default.createElement("div",{onClick:()=>s(1,"m"),className:"calendar-time-half-cell"},c.default(e).add(1,"m").format("mm")),d.default.createElement("div",{onClick:()=>s(2,"m"),className:"calendar-time-half-cell"},c.default(e).add(2,"m").format("mm")),d.default.createElement("div",{onClick:()=>s(1,"m"),className:"calendar-time-half-cell"},i())))};var h={ru:{t:"сегодня",y:"вчера",wa:"неделю назад",ma:"месяц назад",ya:"год назад"},"en-gb":{t:"today",y:"yesterday",wa:"week ago",ma:"month ago",ya:"year ago"},uk:{t:"сьогодні",y:"вчора",wa:"тиждень тому",ma:"місяць тому",ya:"рік  тому"},de:{t:"heute",y:"gestern",wa:"vor 1 woche",ma:"vor 1 Monat",ya:"мor 1 Jahr"}};const g=[{id:1,title:"t",func:e=>{e(c.default())}},{id:2,title:"y",func:e=>{e(c.default().subtract(1,"d"))}},{id:3,title:"wa",func:e=>{e(c.default().subtract(1,"w"))}},{id:4,title:"ma",func:e=>{e(c.default().subtract(1,"M"))}},{id:0,title:"ya",func:e=>{e(c.default().subtract(1,"y"))}}],p=({locale:e,changeAction:t})=>{let a=h[e||"en-gb"];return d.default.createElement("div",{className:"calendar-presets"},g.map((({id:e,title:l,func:r})=>d.default.createElement("div",{key:e,onClick:()=>r(t),className:"calendar-presets-preset"},a[l]))))};exports.Calendar=({presets:e=!1,date:a=new Date,time:l=!1,locale:c="en-gb",onChangeDate:m,width:i=null,height:h=null})=>{const[g,E]=t.useState(!c),v=e=>{m?m(e.toDate()):console.warn('Must be a handle function "onChangeDate"')};return t.useEffect((()=>{c&&"string"==typeof c&&Promise.resolve().then((function(){return r(require(`moment/locale/${c}`))})).then((()=>{E(!0)}))}),[]),d.default.createElement("div",{style:{width:i,height:h},className:n.default("calendar",{with_time:l,with_presets:e})},d.default.createElement(u,{date:a,changeAction:v}),g&&d.default.createElement(s,{date:a,changeAction:v}),d.default.createElement(f,{date:a,changeAction:v}),l&&d.default.createElement(o,{date:a,changeAction:v}),e&&d.default.createElement(p,{locale:c,date:a,changeAction:v}))};
