"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("classnames"),a=require("react"),t=require("moment");function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var a=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var l=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(a,t,l.get?l:{enumerable:!0,get:function(){return e[t]}})}})),a.default=e,Object.freeze(a)}var n=l(e),d=l(a),c=l(t);function i(){return d.default.createElement("svg",{id:"Layer",enableBackground:"new 0 0 64 64",height:"256",viewBox:"0 0 64 64",width:"256",xmlns:"http://www.w3.org/2000/svg"},d.default.createElement("path",{d:"m54 30h-39.899l15.278-14.552c.8-.762.831-2.028.069-2.828-.761-.799-2.027-.831-2.828-.069l-17.448 16.62c-.755.756-1.172 1.76-1.172 2.829 0 1.068.417 2.073 1.207 2.862l17.414 16.586c.387.369.883.552 1.379.552.528 0 1.056-.208 1.449-.621.762-.8.731-2.065-.069-2.827l-15.342-14.552h39.962c1.104 0 2-.896 2-2s-.896-2-2-2z"}))}function s(){return d.default.createElement("svg",{id:"Layer",enableBackground:"new 0 0 64 64",height:"256",viewBox:"0 0 64 64",width:"256",xmlns:"http://www.w3.org/2000/svg"},d.default.createElement("path",{d:"m37.379 12.552c-.799-.761-2.066-.731-2.827.069-.762.8-.73 2.066.069 2.828l15.342 14.551h-39.963c-1.104 0-2 .896-2 2s.896 2 2 2h39.899l-15.278 14.552c-.8.762-.831 2.028-.069 2.828.393.412.92.62 1.448.62.496 0 .992-.183 1.379-.552l17.449-16.62c.756-.755 1.172-1.759 1.172-2.828s-.416-2.073-1.207-2.862z"}))}function o(){return d.default.createElement("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 492.002 492.002",xml:"preserve"},d.default.createElement("g",null,d.default.createElement("g",null,d.default.createElement("path",{d:"M484.136,328.473L264.988,109.329c-5.064-5.064-11.816-7.844-19.172-7.844c-7.208,0-13.964,2.78-19.02,7.844\r L7.852,328.265C2.788,333.333,0,340.089,0,347.297c0,7.208,2.784,13.968,7.852,19.032l16.124,16.124\r c5.064,5.064,11.824,7.86,19.032,7.86s13.964-2.796,19.032-7.86l183.852-183.852l184.056,184.064\r c5.064,5.06,11.82,7.852,19.032,7.852c7.208,0,13.96-2.792,19.028-7.852l16.128-16.132\r C494.624,356.041,494.624,338.965,484.136,328.473z"}))),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null))}function u(){return d.default.createElement("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 256 256",xml:"preserve"},d.default.createElement("g",null,d.default.createElement("g",null,d.default.createElement("polygon",{points:"225.813,48.907 128,146.72 30.187,48.907 0,79.093 128,207.093 256,79.093 \t\t"}))),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null),d.default.createElement("g",null))}!function(e,a){void 0===a&&(a={});var t=a.insertAt;if(e&&"undefined"!=typeof document){var l=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===t&&l.firstChild?l.insertBefore(r,l.firstChild):l.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}('.calendar{--accent:#d8d6d6;--backdrop:#eeebe7;--highlight:#b1aa48;--tone:#9c9999;--color-text:#333;min-width:60vh;min-height:60vh;max-height:100vh;background:var(--accent);color:var(--color-text);display:grid;grid-template-columns:2fr 5fr;grid-template-rows:50px auto;grid-template-areas:"YY YY" "MM DD";user-select:none;font-family:sans-serif}.calendar.dark_calendar{--accent:#645d55;--backdrop:#6c6e6a;--highlight:#2c281e;--tone:#21282e;--color-text:#e9e6e6}.calendar.with_presets:not(.with_time){min-height:60vh;grid-template-columns:2fr 5fr;grid-template-rows:50px auto 50px;grid-template-areas:"YY YY" "MM DD" "PRESETS PRESETS"}.calendar.with_time:not(.with_presets){min-width:75vh;grid-template-columns:2fr 5fr 2fr;grid-template-rows:50px auto;grid-template-areas:"YY YY YY" "MM DD TIME";column-gap:2px}.calendar.with_presets,.calendar.with_time{grid-template-columns:2fr 5fr 2fr;grid-template-rows:50px auto 50px;grid-template-areas:"YY YY YY" "MM DD TIME" "PRESETS PRESETS PRESETS"}.calendar.years_picker{grid-template-columns:1fr!important;grid-template-rows:1fr!important}.calendar-yearspicker{background:var(--backdrop);display:grid;grid-template-columns:50px repeat(5,1fr) 50px;grid-template-rows:repeat(5,1fr);animation:fadeIn 1 .2s linear 0 forwards}.calendar-yearspicker-arrow{background:var(--accent)}.calendar-yearspicker-arrow:first-child{grid-area:1/1/6/2}.calendar-yearspicker-arrow:last-child{grid-area:1/7/6/7}.calendar-yearspicker-year{background:var(--backdrop);opacity:0}.calendar-yearspicker-year.year_anim{animation-name:fadeIn;animation-duration:.3s;animation-iteration-count:1;animation-fill-mode:forwards}.calendar-presets{grid-area:PRESETS;display:flex;width:100%}.calendar-presets-preset{text-align:center;font-size:13px;padding:3px;width:20%;background:var(--tone);border-right:1px solid var(--backdrop)}.calendar-presets-preset:last-child{border:none}.calendar-time{grid-area:TIME;display:flex;padding-left:1px}.calendar-time-half{width:50%;display:grid;grid-template-columns:1fr;grid-template-rows:repeat(7,1fr);background:var(--backdrop)}.calendar-time-half-cell:first-child,.calendar-time-half-cell:last-child{background:var(--accent)}.calendar-time-half-cell:nth-child(4){position:relative}.calendar-time-half-cell svg{fill:var(--color-text);max-width:20%}.calendar-years{grid-area:YY;display:flex;background:var(--tone);justify-content:space-between}.calendar-years-current{width:60%;height:100%;text-align:center;font:700 21px sans-serif}.calendar-years-current:hover{cursor:pointer}.calendar-years-arrow{width:50px;height:100%}.calendar-months{grid-area:MM;display:grid;grid-template-columns:repeat(2,1fr);grid-template-rows:repeat(6,1fr)}.calendar-months-month{height:100%;padding:1px}.calendar-days{grid-area:DD;background:var(--backdrop);display:grid;grid-template-columns:repeat(7,1fr)}.calendar-time-half-cell:nth-child(4),.calendar_active{background:var(--highlight)}.calendar-button,.calendar-days-day,.calendar-months-month,.calendar-presets-preset,.calendar-time-half-cell,.calendar-years-arrow,.calendar-yearspicker-arrow,.calendar-yearspicker-year{border:none;color:var(--color-text)}.calendar-button:not([disabled]):active,.calendar-button:not([disabled]):hover,.calendar-days-day:not([disabled]):active,.calendar-days-day:not([disabled]):hover,.calendar-months-month:not([disabled]):active,.calendar-months-month:not([disabled]):hover,.calendar-presets-preset:not([disabled]):active,.calendar-presets-preset:not([disabled]):hover,.calendar-time-half-cell:not([disabled]):active,.calendar-time-half-cell:not([disabled]):hover,.calendar-years-arrow:not([disabled]):active,.calendar-years-arrow:not([disabled]):hover,.calendar-yearspicker-arrow:not([disabled]):active,.calendar-yearspicker-arrow:not([disabled]):hover,.calendar-yearspicker-year:not([disabled]):active,.calendar-yearspicker-year:not([disabled]):hover{background:var(--highlight);cursor:pointer}.calendar-button[disabled],.calendar-days-day[disabled],.calendar-months-month[disabled],.calendar-presets-preset[disabled],.calendar-time-half-cell[disabled],.calendar-years-arrow[disabled],.calendar-yearspicker-arrow[disabled],.calendar-yearspicker-year[disabled]{cursor:not-allowed;filter:opacity(.4)}.calendar-button svg,.calendar-days-day svg,.calendar-months-month svg,.calendar-presets-preset svg,.calendar-time-half-cell svg,.calendar-years-arrow svg,.calendar-yearspicker-arrow svg,.calendar-yearspicker-year svg{fill:var(--color-text);max-height:50%}.calendar-days-day,.calendar-fcc,.calendar-months-month,.calendar-presets-preset,.calendar-time-half-cell,.calendar-years-arrow,.calendar-years-current,.calendar-yearspicker-arrow,.calendar-yearspicker-year{display:flex;align-items:center;justify-content:center}.dividerhour:after{content:":";position:absolute;top:50%;transform:translateY(-55%);right:0;opacity:1;animation:fadeIn 1.1s infinite}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}');const m=({date:e,toggleYearsPicker:a,changeAction:t})=>d.default.createElement("div",{className:"calendar-years"},d.default.createElement("div",{tabIndex:"0",role:"button",className:"calendar-years-arrow",onClick:()=>{t(c.default(e).subtract(1,"Y"))}},i()),d.default.createElement("div",{onClick:a,className:"calendar-years-current"},c.default(e).format("YYYY")),d.default.createElement("div",{onClick:()=>{t(c.default(e).add(1,"Y"))},role:"button",tabIndex:"0",className:"calendar-years-arrow"},s())),f=({toggleYearsPicker:e,date:t,changeAction:l})=>{const[r,o]=a.useState([]),[u,m]=a.useState(0),[f,h]=a.useState(!0);return a.useEffect((()=>{m(c.default(t))}),[t]),a.useEffect((()=>{o(new Array(25).fill(+c.default(u).format("YYYY")-12).map(((e,a)=>e+a))),h(!1),setTimeout((()=>{h(!0)}),50)}),[u]),d.default.createElement("div",{className:"calendar-yearspicker",onContextMenu:(a=null)=>{a&&a.preventDefault(),l(c.default(u)),e()}},d.default.createElement("button",{disabled:+c.default(u).format("YYYY")<1925,onClick:()=>m(c.default(u).subtract(25,"y")),className:"calendar-yearspicker-arrow"},i()),r&&r.map((a=>{return d.default.createElement("button",{key:a,disabled:a>2100||a<1900,onClick:()=>{return t=a,l(c.default(u).year(t)),void e();var t},className:n.default("calendar-yearspicker-year",{year_anim:f,calendar_active:+c.default(u).format("YYYY")===a}),style:{animationDelay:(t=a,`\n    ${(.1*Math.abs(+c.default(u).format("YYYY")-t)/2).toFixed(2)}s`),animationIterationCount:1}},a);var t})),d.default.createElement("button",{className:"calendar-yearspicker-arrow",disabled:+c.default(u).format("YYYY")>2075,onClick:()=>m(c.default(u).add(25,"y"))},s()))},h=({date:e,changeAction:a})=>{let t=Array.from({length:12},((e,a)=>a));return d.default.createElement("div",{className:"calendar-months"},t.map((t=>d.default.createElement("div",{key:t,tabIndex:"0",role:"button",className:n.default("calendar-months-month",{calendar_active:t+1===+c.default(e).format("M")}),onClick:()=>{var l;(l=t)+1!==+c.default(e).format("M")&&a(c.default(e).month(l))}},c.default().month(t).format("MMMM")))))},g=({date:e,changeAction:t})=>{const[l,r]=a.useState([]);return a.useEffect((()=>{let a=c.default(e).daysInMonth();r(Array.from({length:a},((e,a)=>a+1)))}),[e]),d.default.createElement("div",{className:"calendar-days"},l.map((a=>d.default.createElement("div",{key:a,onClick:()=>{var l;(l=a)!==c.default(e).date()&&t(c.default(e).set("date",l))},tabIndex:"0",role:"button",className:n.default("calendar-days-day",{calendar_active:c.default(e).date()===a})},a))))},p=({date:e,changeAction:t})=>{const[l,r]=a.useState(+c.default(e).format("HH")),[n,i]=a.useState(+c.default(e).format("mm")),s=(a,l)=>{t(c.default(e).add(a,l))},m=(a,l)=>{t(c.default(e).subtract(a,l))},f=({deltaY:a},l)=>{t(a<0?c.default(e).subtract(1,l):c.default(e).add(1,l))};return a.useEffect((()=>{r(c.default(e).format("HH")),i(c.default(e).format("mm"))}),[e]),a.useEffect((()=>(document.addEventListener("scroll",f),()=>{document.removeEventListener("scroll",f)})),[]),d.default.createElement("div",{className:"calendar-time"},d.default.createElement("div",{className:"calendar-time-half hours",onWheel:e=>f(e,"H")},d.default.createElement("div",{className:"calendar-time-half-cell",onClick:()=>m(1,"H")},o()),d.default.createElement("div",{onClick:()=>m(2,"H"),className:"calendar-time-half-cell"},c.default(e).subtract(2,"H").format("HH")),d.default.createElement("div",{onClick:()=>m(1,"H"),className:"calendar-time-half-cell"},c.default(e).subtract(1,"H").format("HH")),d.default.createElement("div",{className:"calendar-time-half-cell dividerhour"},l),d.default.createElement("div",{onClick:()=>s(1,"H"),className:"calendar-time-half-cell"},c.default(e).add(1,"H").format("HH")),d.default.createElement("div",{onClick:()=>s(2,"H"),className:"calendar-time-half-cell"},c.default(e).add(2,"H").format("HH")),d.default.createElement("div",{className:"calendar-time-half-cell",onClick:()=>s(1,"H")},u())),d.default.createElement("div",{className:"calendar-time-half",onWheel:e=>f(e,"m")},d.default.createElement("div",{className:"calendar-time-half-cell",onClick:()=>m(1,"m")},o()),d.default.createElement("div",{onClick:()=>m(2,"m"),className:"calendar-time-half-cell"},c.default(e).subtract(2,"m").format("mm")),d.default.createElement("div",{onClick:()=>m(1,"m"),className:"calendar-time-half-cell"},c.default(e).subtract(1,"m").format("mm")),d.default.createElement("div",{className:"calendar-time-half-cell"},n),d.default.createElement("div",{onClick:()=>s(1,"m"),className:"calendar-time-half-cell"},c.default(e).add(1,"m").format("mm")),d.default.createElement("div",{onClick:()=>s(2,"m"),className:"calendar-time-half-cell"},c.default(e).add(2,"m").format("mm")),d.default.createElement("div",{onClick:()=>s(1,"m"),className:"calendar-time-half-cell"},u())))},y={ru:{t:"сегодня",y:"вчера",wa:"неделю назад",ma:"месяц назад",ya:"год назад"},"en-gb":{t:"today",y:"yesterday",wa:"week ago",ma:"month ago",ya:"year ago"},uk:{t:"сьогодні",y:"вчора",wa:"тиждень тому",ma:"місяць тому",ya:"рік  тому"},de:{t:"heute",y:"gestern",wa:"vor 1 woche",ma:"vor 1 Monat",ya:"мor 1 Jahr"},"zh-cn":{t:"今天",y:"昨天",wa:"一周前",ma:"一个月前",ya:"一年前"},fr:{t:"jour",y:"hier",wa:"il y a une semaine",ma:"il y a un mois",ya:"il y a un an"}},v=[{id:1,title:"t",func:e=>{e(c.default())}},{id:2,title:"y",func:e=>{e(c.default().subtract(1,"d"))}},{id:3,title:"wa",func:e=>{e(c.default().subtract(1,"w"))}},{id:4,title:"ma",func:e=>{e(c.default().subtract(1,"M"))}},{id:0,title:"ya",func:e=>{e(c.default().subtract(1,"y"))}}],E=({locale:e,changeAction:a})=>{let t=y[e||"en-gb"];return d.default.createElement("div",{className:"calendar-presets"},v.map((({id:e,title:l,func:r})=>d.default.createElement("div",{key:e,onClick:()=>r(a),className:"calendar-presets-preset"},t[l]))))};exports.Calendar=({presets:e=!1,date:t=new Date,time:l=!1,locale:c="en-gb",onChangeDate:i,width:s=null,height:o=null,dark:u=!1})=>{const[y,v]=a.useState(!c),[b,w]=a.useState(!1),k=()=>{w(!b)},x=e=>{i?i(e.toDate()):console.warn('Must be a handle function "onChangeDate"')};return a.useEffect((()=>{c&&"string"==typeof c&&Promise.resolve().then((function(){return r(require(`moment/locale/${c}`))})).then((()=>{v(!0)}))}),[]),d.default.createElement("div",{style:{width:s,height:o},className:n.default("calendar",{with_time:l,with_presets:e,years_picker:b,dark_calendar:u})},b?d.default.createElement(f,{date:t,changeAction:x,toggleYearsPicker:k}):d.default.createElement(d.default.Fragment,null,d.default.createElement(m,{date:t,toggleYearsPicker:k,changeAction:x}),y&&d.default.createElement(h,{date:t,changeAction:x}),d.default.createElement(g,{date:t,changeAction:x}),l&&d.default.createElement(p,{date:t,changeAction:x}),e&&d.default.createElement(E,{locale:c,date:t,changeAction:x})))};
